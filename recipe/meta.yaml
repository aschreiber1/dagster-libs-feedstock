# use current version of libs as the source of truth to get accurate PR labels
{% set version = "0.25.1" %}

# derive the dagster version: use only in deps so only this line needs to change
{% set dagster = "1.9." ~ version.split(".")[-1] %}

{% if 1 %}{% set min_python = ">=3.9,<3.13" %}{% endif %}

package:
  name: dagster-libs
  version: {{ version }}

source:
  - url: https://raw.githubusercontent.com/dagster-io/dagster/master/LICENSE
    sha256: 45f773ab43b3e822e46b1dafb81005c19519c3ce82a41de25e31f202f0c94df5

  - folder: dagster-airbyte
    url: https://pypi.org/packages/source/d/dagster-airbyte/dagster-airbyte-{{ version }}.tar.gz
    sha256: ff993e328906e7448bb941599e672e900878e8c79c403c3831e5e07b10753bf3

  - folder: dagster-aws
    url: https://pypi.org/packages/source/d/dagster-aws/dagster-aws-{{ version }}.tar.gz
    sha256: 0df535ec4f56b10dea448a1ca97865a7c1bdc8a6e2206bae58a715d6ed3f4d24

  - folder: dagster-celery
    url: https://pypi.org/packages/source/d/dagster-celery/dagster-celery-{{ version }}.tar.gz
    sha256: 4e54e206c207d0c9061cf04fa42122ba8612a2ef0fdfbceb99ce54402b7be158

  - folder: dagster-celery-docker
    url: https://pypi.org/packages/source/d/dagster-celery-docker/dagster-celery-docker-{{ version }}.tar.gz
    sha256: 9aecc2fe74332170d9cebd2ea3b7d744cee53fa7f902f4010526002099beafc9

  - folder: dagster-celery-k8s
    url: https://pypi.org/packages/source/d/dagster-celery-k8s/dagster-celery-k8s-{{ version }}.tar.gz
    sha256: e2c99262f6af6d58347b94992f85f6f1a03405f48709018e1803331f920e008f

  - folder: dagster-census
    url: https://pypi.org/packages/source/d/dagster-census/dagster-census-{{ version }}.tar.gz
    sha256: b6df61a82480b6642c1ab79edea2b4aef04d9cb7c4cde444cd502b102419c646

  - folder: dagster-dask
    url: https://pypi.org/packages/source/d/dagster-dask/dagster-dask-{{ version }}.tar.gz
    sha256: 76b2a6dd4521defaa06b5c4299b896cacaed5974cbf0c5137c4e064067da47b6

  - folder: dagster-datadog
    url: https://pypi.org/packages/source/d/dagster-datadog/dagster-datadog-{{ version }}.tar.gz
    sha256: e2528f03cfa10ea39658398cf38f5e5ba20198c52c662aec5380d7e9e3d52873

  - folder: dagster-dbt
    url: https://pypi.org/packages/source/d/dagster-dbt/dagster-dbt-{{ version }}.tar.gz
    sha256: e4ed6e3a0ad577ceff9dd8cf14ed0806d9f71e54fa3bfb251a8556b8230766be

  - folder: dagster-deltalake
    url: https://pypi.org/packages/source/d/dagster-deltalake/dagster-deltalake-{{ version }}.tar.gz
    sha256: 484feaa98cec5413c7ad91844b3c1590125d24b4c8b1acdeef7a17e1a0255020

  - folder: dagster-deltalake-pandas
    url: https://pypi.org/packages/source/d/dagster-deltalake-pandas/dagster-deltalake-pandas-{{ version }}.tar.gz
    sha256: e205b95f16e35a3e80dca24bad436a2343e4f54239f9deba7916806e47cedc73

  - folder: dagster-deltalake-polars
    url: https://pypi.org/packages/source/d/dagster-deltalake-polars/dagster-deltalake-polars-{{ version }}.tar.gz
    sha256: ffb9a9960117eaf8e716e1097f242e4faa5b962f663eb3a4168d6ddb1b8ee93f

  - folder: dagster-docker
    url: https://pypi.org/packages/source/d/dagster-docker/dagster-docker-{{ version }}.tar.gz
    sha256: adaa399258fa128f359917a0a52a15bb4aac7d951ca2b9aa5e7e7dec4d545480

  - folder: dagster-duckdb
    url: https://pypi.org/packages/source/d/dagster-duckdb/dagster-duckdb-{{ version }}.tar.gz
    sha256: 39aa48fcfa0f1cdf15002399b11f95bfe1e2d30db2762489e3e1947975c32c0a

  - folder: dagster-duckdb-pandas
    url: https://pypi.org/packages/source/d/dagster-duckdb-pandas/dagster-duckdb-pandas-{{ version }}.tar.gz
    sha256: 3133f235fa5e33a032cbfed26348229c64cc592f35ca77883603131c6e0881e5

  - folder: dagster-duckdb-polars
    url: https://pypi.org/packages/source/d/dagster-duckdb-polars/dagster-duckdb-polars-{{ version }}.tar.gz
    sha256: f8ee9e0004cecbe095d236af960ffc43fe30904f0f534f00d769742deba49bac

  - folder: dagster-duckdb-pyspark
    url: https://pypi.org/packages/source/d/dagster-duckdb-pyspark/dagster-duckdb-pyspark-{{ version }}.tar.gz
    sha256: f6bb75b41cdd5668e8ce5aacbace62247ccac34eccde3c6fa064af81fb23e50d

  - folder: dagster-fivetran
    url: https://pypi.org/packages/source/d/dagster-fivetran/dagster-fivetran-{{ version }}.tar.gz
    sha256: 0ef431df843b4410ba173646eceee6dd1c3a25ac4af597efeaf266f5ffbf8af2

  - folder: dagster-gcp
    url: https://pypi.org/packages/source/d/dagster-gcp/dagster-gcp-{{ version }}.tar.gz
    sha256: 669b719c4eb361e4d9f1afd525278de6368c8093adf02cbbd7fe1d917addf60a

  - folder: dagster-gcp-pandas
    url: https://pypi.org/packages/source/d/dagster-gcp-pandas/dagster-gcp-pandas-{{ version }}.tar.gz
    sha256: 9460b992ca968aab05e996858a027e0792e5dcf1befe4810449a3d96603cd363

  - folder: dagster-gcp-pyspark
    url: https://pypi.org/packages/source/d/dagster-gcp-pyspark/dagster-gcp-pyspark-{{ version }}.tar.gz
    sha256: 9fe0f462f1a89aa4ac40b0aad483a87a0ccd847533d22aedba305bf19e1f6d38

  - folder: dagster-ge
    url: https://pypi.org/packages/source/d/dagster-ge/dagster-ge-{{ version }}.tar.gz
    sha256: 7da8041457047054ed1b878ae28164ca150635d837e239577ea53714e64826ac

  - folder: dagster-github
    url: https://pypi.org/packages/source/d/dagster-github/dagster-github-{{ version }}.tar.gz
    sha256: c1356d1d86620053e6530c8c581bd7aac69ad69c8796c49ab0a4455a8200d532

  - folder: dagster-k8s
    url: https://pypi.org/packages/source/d/dagster-k8s/dagster-k8s-{{ version }}.tar.gz
    sha256: ef31ef10ee2e829e11bf00aea991fb877226a39e3349c88b57bcff87eb6f4dbd

  - folder: dagster-looker
    url: https://pypi.org/packages/source/d/dagster-looker/dagster_looker-{{ version }}.tar.gz
    sha256: 0b2aa2b24b3e16ba61405a0b34130ad7ae52a3bd0ccfe4086b716ef6cd83af23

  - folder: dagster-managed-elements
    url: https://pypi.org/packages/source/d/dagster-managed-elements/dagster-managed-elements-{{ version }}.tar.gz
    sha256: 8792391113c4cb230dc359a05cf9c44676450a02fff842c5c9d7946ecc8e9fe0

  - folder: dagster-mlflow
    url: https://pypi.org/packages/source/d/dagster-mlflow/dagster-mlflow-{{ version }}.tar.gz
    sha256: 1960f2eaceb47b448cae4b95c610e15b4ce8be820f5ca5024a2e0664d7dfd291

  - folder: dagster-msteams
    url: https://pypi.org/packages/source/d/dagster-msteams/dagster-msteams-{{ version }}.tar.gz
    sha256: 4a022c46002e39536a6eed89624022904d2694e4c532334b8c70977fdd06eb13

  - folder: dagster-mysql
    url: https://pypi.org/packages/source/d/dagster-mysql/dagster-mysql-{{ version }}.tar.gz
    sha256: e0d7be9c55b9dbe5131d6f0ccfc124ba5e5b4e7dcddab7ca96d5b8cc68858247

  - folder: dagster-openai
    url: https://pypi.org/packages/source/d/dagster-openai/dagster-openai-{{ version }}.tar.gz
    sha256: ac2c0a7cdc6ea183292b3927321d6aece1fe73746507f8f8d39352137e6c3d5e

  - folder: dagster-pagerduty
    url: https://pypi.org/packages/source/d/dagster-pagerduty/dagster-pagerduty-{{ version }}.tar.gz
    sha256: db4b6c3033e7fdd0a5366863815405a8d1cf4469474a88188986669acd26f2af

  - folder: dagster-pandas
    url: https://pypi.org/packages/source/d/dagster-pandas/dagster-pandas-{{ version }}.tar.gz
    sha256: ed05147f130dd7f17e13eb747df7035e5f8f1706b852dee6237e912336a8a795

  - folder: dagster-pandera
    url: https://pypi.org/packages/source/d/dagster-pandera/dagster-pandera-{{ version }}.tar.gz
    sha256: 84abc097effdde7d90b75d89181e814b18ed81b71ca8fbe90e07a042aa4872c8

  - folder: dagster-papertrail
    url: https://pypi.org/packages/source/d/dagster-papertrail/dagster-papertrail-{{ version }}.tar.gz
    sha256: dcd40c3104b1e55ad0a79ff8ad628b2576a4af75a474caf67cbf77164b263781

  - folder: dagster-polars
    url: https://pypi.org/packages/source/d/dagster-polars/dagster-polars-{{ version }}.tar.gz
    sha256: 829212c68a7d00ab887ad5f398be523bb25e0fc6432078dbecdb891bc328a668

  - folder: dagster-postgres
    url: https://pypi.org/packages/source/d/dagster-postgres/dagster-postgres-{{ version }}.tar.gz
    sha256: 6a7b71a9ceee17dfed2aa514e1febcdfb9ea136c2b14832442bbb775c766f2d5

  - folder: dagster-powerbi
    url: https://pypi.org/packages/source/d/dagster-powerbi/dagster_powerbi-{{ version }}.tar.gz
    sha256: 9422de7d891f5e24246ee06f2b0df737a289ed4733ec3e2ec22a9c92ed32aa98

  - folder: dagster-prometheus
    url: https://pypi.org/packages/source/d/dagster-prometheus/dagster-prometheus-{{ version }}.tar.gz
    sha256: 00041d3e822da27eddccd91312c391fde7ddb70f340fbdf696f9dd020bc67a63

  - folder: dagster-pyspark
    url: https://pypi.org/packages/source/d/dagster-pyspark/dagster-pyspark-{{ version }}.tar.gz
    sha256: 1191ba63d2cf3d828b8d06750eda91c7a57fc897de32f0fa1439c770353fdf47

  - folder: dagster-shell
    url: https://pypi.org/packages/source/d/dagster-shell/dagster-shell-{{ version }}.tar.gz
    sha256: ab95458bb900cd786a9d2eb24d251cc4ce06b1c48f4a090eaf63a39d433a241e

  - folder: dagster-sigma
    url: https://pypi.org/packages/source/d/dagster-sigma/dagster_sigma-{{ version }}.tar.gz
    sha256: 9b6e486abc997ba10771ecfc27f2b17709d468354841189927b7cbf99b007935

  - folder: dagster-slack
    url: https://pypi.org/packages/source/d/dagster-slack/dagster-slack-{{ version }}.tar.gz
    sha256: 50fbf8b1da5b0cecc187fdaa0a02c13a65aec97e87a85aa3ce939e67d6cc1791

  - folder: dagster-snowflake
    url: https://pypi.org/packages/source/d/dagster-snowflake/dagster-snowflake-{{ version }}.tar.gz
    sha256: 3996fd1bdb573f31c94cb8a67df96db3f9c4140cb988e444eb4b48b451e0e9e1

  - folder: dagster-snowflake-pandas
    url: https://pypi.org/packages/source/d/dagster-snowflake-pandas/dagster-snowflake-pandas-{{ version }}.tar.gz
    sha256: a8939f25298b19f48ce3b722bb00aee6c50f0fa0ccf5c9cd2a9610b3d49237db

  - folder: dagster-snowflake-pyspark
    url: https://pypi.org/packages/source/d/dagster-snowflake-pyspark/dagster-snowflake-pyspark-{{ version }}.tar.gz
    sha256: 4ae8fcc89841bb53837691efdf2f4c3a1e04fdca64cc77bd8e0c7bf18807f372

  - folder: dagster-spark
    url: https://pypi.org/packages/source/d/dagster-spark/dagster-spark-{{ version }}.tar.gz
    sha256: be4b764de7251cb38696b8b31c5fa763500cbb1f5c138d04216c1abeafa4e20f

  - folder: dagster-ssh
    url: https://pypi.org/packages/source/d/dagster-ssh/dagster-ssh-{{ version }}.tar.gz
    sha256: c137304c62b6ac5cc8feca0a4347c691b76771c797366e3bdf1d00eaa93e2f25

  - folder: dagster-tableau
    url: https://pypi.org/packages/source/d/dagster-tableau/dagster_tableau-{{ version }}.tar.gz
    sha256: c3a197f8ed0125efd2ebbe84de132a9d9f5f9f46ffb19f38adee390d849c3e53

  - folder: dagster-twilio
    url: https://pypi.org/packages/source/d/dagster-twilio/dagster-twilio-{{ version }}.tar.gz
    sha256: 27aa4f7be9f63715e86f6de43076b1b59ced3a9f56682cdd9a8881e4e75a7822

  - folder: dagster-wandb
    url: https://pypi.org/packages/source/d/dagster-wandb/dagster-wandb-{{ version }}.tar.gz
    sha256: 5156be2366ad5935764f2a0d174c93399dca477c6ef850147b5d04eaba4f9b95

  - folder: dagstermill
    url: https://pypi.org/packages/source/d/dagstermill/dagstermill-{{ version }}.tar.gz
    sha256: a5b619f3e7261ecf86e1135e333b7114b09fe0fd1805145ebf9d4a3093f3be4c

build:
  noarch: python
  number: 0

requirements:
  host:
    - python {{ min_python }}
  run:
    - python {{ min_python }}

test:
  commands:
    - echo "tests in outputs"

outputs:
  - name: dagster-celery
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-celery && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
      entry_points:
        - dagster-celery = dagster_celery.cli:main
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - celery >=4.3.0
        - click >=5.0,<9
        - dagster {{ dagster }}.*
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
        # to get viable intersecting click ranges
        - celery >=5.1.2
      imports:
        - dagster_celery
      commands:
        - dagster-celery --help
        - pip check

    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-celery
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-celery/LICENSE
      summary: Package for using Celery as Dagster's execution engine.

  - name: dagster-census
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-census && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_census
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-census
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-census/LICENSE
      summary: Package for integrating Census with Dagster.

  - name: dagster-celery-docker
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-celery-docker && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-celery", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - dagster-graphql {{ dagster }}.*
        - docker-py
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
        # to get viable intersecting click ranges
        - celery >=5.1.2
      imports:
        - dagster_celery_docker
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-celery-docker
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-celery-docker/LICENSE
      summary: A Dagster integration for celery-docker

  - name: dagster-celery-k8s
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-celery-k8s && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-celery", max_pin="x.x.x") }}
        - {{ pin_subpackage("dagster-k8s", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
        # to get viable intersecting click ranges
        - celery >=5.1.2
      imports:
        - dagster_celery_k8s
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-celery-k8s
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-celery-k8s/LICENSE
      summary: A Dagster integration for celery-k8s-executor

  - name: dagster-duckdb
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-duckdb && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python-duckdb <0.10.0
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_duckdb
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-duckdb
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-duckdb/LICENSE
      summary: Package for DuckDB-specific Dagster framework op and resource components.

  - name: dagster-duckdb-pandas
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-duckdb-pandas && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-duckdb", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pandas
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_duckdb_pandas
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-duckdb-pandas
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-duckdb-pandas/LICENSE
      summary: Package for storing Pandas DataFrames in DuckDB.

  - name: dagster-duckdb-polars
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-duckdb-polars && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-duckdb", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        # TODO: get polars-with-X outputs
        - polars
        - pyarrow >=4.0.0
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_duckdb_polars
      commands:
        - pip check

    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-duckdb-polars
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-duckdb-polars/LICENSE
      summary: Package for storing Polars DataFrames in DuckDB.

  - name: dagster-duckdb-pyspark
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-duckdb-pyspark && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-duckdb", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pandas
        - pyarrow
        - pyspark >=3
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_duckdb_pyspark
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/blob/master/python_modules/dagster-duckdb-pyspark
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-duckdb-pyspark/LICENSE
      summary: Package for storing PySpark DataFrames in DuckDB.

  - name: dagster-k8s
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-k8s && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - google-auth !=2.23.1
        - python {{ min_python }}
        # from python_modules/libraries/dagster-k8s/dagster_k8s/kubernetes_version.py
        - python-kubernetes <32
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_k8s
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-k8s
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-k8s/LICENSE
      summary: A Dagster integration for k8s

  - name: dagster-pyspark
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-pyspark && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-spark", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pyspark >=3
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_pyspark
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-pyspark
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-pyspark/LICENSE
      summary: Package for PySpark Dagster framework components.

  - name: dagster-spark
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-spark && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_spark
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-spark
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-spark/LICENSE
      summary: Package for Spark Dagster framework components.

  - name: dagster-airbyte
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-airbyte && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
      entry_points:
        - dagster-airbyte = dagster_airbyte.cli:main
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - requests
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_airbyte
      commands:
        - pip check
        - dagster-airbyte --help
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-airbyte
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-airbyte/LICENSE
      summary: Package for integrating Airbyte with Dagster.

  - name: dagster-deltalake
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-deltalake && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - deltalake >=0.15,<0.18
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_deltalake
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-deltalake
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-deltalake/LICENSE
      summary: Package for Deltalake-specific Dagster framework op and resource components.

  - name: dagster-deltalake-pandas
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-deltalake-pandas && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-deltalake", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pandas
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_deltalake_pandas
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-deltalake-pandas
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-deltalake-pandas/LICENSE
      summary: Package for storing Pandas DataFrames in Delta tables

  - name: dagster-deltalake-polars
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-deltalake-polars && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-deltalake", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - polars
        # TODO: update after https://github.com/conda-forge/polars-feedstock/issues/194
        # for now https://github.com/pola-rs/polars/blob/main/py-polars/pyproject.toml#L52C13-L52C29
        - pyarrow >=7.0.0
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_deltalake_polars
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-deltalake-polars
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-deltalake-polars/LICENSE
      summary: Package for storing Polars DataFrames in Delta tables.

  - name: dagster-dbt
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-dbt && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
      entry_points:
        - dagster-dbt-cloud = dagster_dbt.cloud.cli:app
        - dagster-dbt = dagster_dbt.cli.app:app
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        # from python_modules/libraries/dagster-dbt/dagster_dbt/dbt_core_version.py
        - dbt-core >=1.6,<1.9
        - jinja2
        - networkx
        - orjson
        - python {{ min_python }}
        - requests
        - rich
        - sqlglot-rs
        - typer >=0.9.0
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_dbt
      commands:
        - pip check
        - dagster-dbt-cloud --help
        - dagster-dbt --help
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-dbt
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-dbt/LICENSE
      summary: A Dagster integration for dbt

  - name: dagster-fivetran
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-fivetran && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
      entry_points:
        - dagster-fivetran = dagster_fivetran.cli:main
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
        - requests
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_fivetran
      commands:
        - pip check
        - dagster-fivetran --help
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-fivetran
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-fivetran/LICENSE
      summary: Package for integrating Fivetran with Dagster.

  - name: dagster-ge
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-ge && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-pandas", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - dataclasses
        - great-expectations >=0.17.15
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_ge
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-ge
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-ge/LICENSE
      summary: Package for GE-specific Dagster framework solid and resource components.

  - name: dagster-github
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-github && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - cryptography >=1.4
        - dagster {{ dagster }}.*
        - pyjwt
        - python {{ min_python }}
        - requests
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_github
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-github
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-github/LICENSE
      summary: Github plugin for Dagster

  - name: dagster-docker
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-docker && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - docker-py
        - docker-image-py
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_docker
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-docker
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-docker/LICENSE
      summary: A Dagster integration for docker

  - name: dagster-gcp
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-gcp && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-pandas", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - db-dtypes
        - google-api-python-client
        - google-cloud-bigquery-core
        - google-cloud-storage
        - oauth2client
        - python {{ min_python }}
    test:
      requires:
        - pip
      imports:
        - dagster_gcp
        - dagster_gcp.bigquery
        - dagster_gcp.dataproc
        - dagster_gcp.gcs
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-gcp
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-gcp/LICENSE
      summary: Package for GCP-specific Dagster framework solid and resource components.

  - name: dagster-gcp-pandas
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-gcp-pandas && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-gcp", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pandas
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_gcp_pandas
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-gcp-pandas
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-gcp-pandas/LICENSE
      summary: Package for storing Pandas DataFrames in GCP.

  - name: dagster-gcp-pyspark
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-gcp-pyspark && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-gcp", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pyspark
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_gcp_pyspark
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-gcp-pyspark
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-gcp-pyspark/LICENSE
      summary: Package for storing PySpark DataFrames in GCP

  - name: dagster-mlflow
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-mlflow && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - mlflow
        - pandas
        - python {{ min_python }}
    test:
      requires:
        # pulls in super-old `noarch` otherwise
        - python <3.12
        - pip
        # TODO: investigate more upstream
        - urllib3 <2
      imports:
        - dagster_mlflow
      commands:
        # as of #60, see `dagster-mlflow X requires mlflow, which is not installed``
        # due to some "clever" packaging tricks with mlflow(-skinny)
        #
        # - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-mlflow
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-mlflow/LICENSE
      summary: Package for mlflow Dagster framework components

  - name: dagster-looker
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-looker && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - cattrs <23.2
        - lkml
        - looker-sdk <24.18.0
        - python-liquid
        - sqlglot
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_looker
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-looker
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-looker/LICENSE
      summary: Looker with Dagster.

  - name: dagster-managed-elements
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-managed-elements && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
      entry_points:
        - dagster-managed-elements = dagster_managed_elements.cli:main
        - dagster-me = dagster_managed_elements.cli:main
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - click-spinner
        - dagster {{ dagster }}.*
        - requests
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_managed_elements
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-managed-elements
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-managed-elements/LICENSE
      summary: Package for Managed elements with Dagster.

  - name: dagster-pandas
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-pandas && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - pandas
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_pandas
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-pandas/LICENSE
      summary: Utilities and examples for working with pandas and dagster, an opinionated framework for expressing data pipelines

  - name: dagster-mysql
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-mysql && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - mysql-connector-python
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        # - pip
        # TODO: can't be installed, investigate upstream
        # #https://github.com/conda-forge/mysql-connector-python-feedstock/pull/77
        # - protobuf >=3.11.0,<=3.20.1
      imports:
        - dagster_mysql
      # commands:
      #   - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-mysql
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-mysql/LICENSE
      summary: A Dagster integration for MySQL

  - name: dagster-msteams
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-msteams && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
        - requests >=2,<3
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_msteams
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-msteams
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-msteams/LICENSE
      summary: A Microsoft Teams client resource for posting to Microsoft Teams

  - name: dagster-openai
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-openai && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - openai
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_openai
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-openai
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-openai/LICENSE
      summary: A Open AI client resource for interacting with Open AI API

  - name: dagster-pagerduty
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-pagerduty && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - pypd
        - python {{ min_python }}
    test:
      requires:
        # later `pip` hard-fails on bad `pypd` metadata
        - pip <24.2
      imports:
        - dagster_pagerduty
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-pagerduty
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-pagerduty/LICENSE
      summary: Package for pagerduty Dagster framework components.

  - name: dagster-papertrail
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-papertrail && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_papertrail
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-papertrail
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-papertrail/LICENSE
      summary: Package for papertrail Dagster framework components.

  - name: dagster-polars
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-polars && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - polars >=0.20.0
        - pyarrow >=8.0.0
        - python {{ min_python }}
        - typing_extensions >=4.7.0
        - universal_pathlib >=0.1.4
        # TODO: remove after https://github.com/dagster-io/dagster/issues/25705
        - dagster-gcp
    test:
      imports:
        - dagster_polars
      commands:
        - pip check
      requires:
        - python {{ min_python }}
        - pip
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-polars
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-polars/LICENSE
      summary: A Dagster integration for polars

  - name: dagster-postgres
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-postgres && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - psycopg2-binary
        - python {{ min_python }}
    test:
      imports:
        - dagster_postgres
      commands:
        - pip check
      requires:
        - python {{ min_python }}
        - pip
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-postgres
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-postgres/LICENSE
      summary: A Dagster integration for postgres

  - name: dagster-powerbi
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-powerbi && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
    test:
      imports:
        - dagster_powerbi
      commands:
        - pip check
      requires:
        - python {{ min_python }}
        - pip
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-powerbi
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-powerbi/LICENSE
      summary: Build assets representing Power BI dashboards and reports.

  - name: dagster-prometheus
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-prometheus && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - prometheus_client
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_prometheus
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-prometheus
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-prometheus/LICENSE
      summary: A Dagster integration for prometheus

  - name: dagster-sigma
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-sigma && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
        - aiohttp
        - sqlglot
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_sigma
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-sigma
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-sigma/LICENSE
      summary: Build assets representing Sigma dashboards.

  - name: dagster-slack
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-slack && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
        - slack-sdk
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_slack
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-slack
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-slack/LICENSE
      summary: A Slack client resource for posting to Slack

  - name: dagster-ssh
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-ssh && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - paramiko
        - python {{ min_python }}
        - sshtunnel
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_ssh
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-ssh
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-ssh/LICENSE
      summary: Package for ssh Dagster framework components.

  - name: dagster-tableau
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-tableau && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
        - pyjwt
        - tableauserverclient >=0.32
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_tableau
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-tableau
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-tableau/LICENSE
      summary: Build assets representing Tableau workbooks and sheets.

  - name: dagster-twilio
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-twilio && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
        - twilio
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_twilio
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-twilio
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-twilio/LICENSE
      summary: A Dagster integration for twilio

  - name: dagster-aws
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-aws && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - boto3
        - boto3-stubs-lite-essential
        - dagster {{ dagster }}.*
        - packaging
        - python {{ min_python }}
        - requests
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_aws
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-aws
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-aws/LICENSE
      summary: Package for AWS-specific Dagster framework solid and resource components.

  - name: dagster-dask
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-dask && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - bokeh
        - dagster {{ dagster }}.*
        - dask >=1.2.2
        - distributed >=1.28.1
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_dask
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-dask
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-dask/LICENSE
      summary: Package for using Dask as Dagster's execution engine.

  - name: dagster-datadog
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-datadog && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - datadog
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_datadog
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-datadog
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-datadog/LICENSE
      summary: Package for datadog Dagster framework components.

  - name: dagster-pandera
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-pandera && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - pandas
        - pandera >=0.15.0
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_pandera
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-pandera
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-pandera/LICENSE
      summary: Integration layer for dagster and pandera.

  - name: dagster-shell
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-shell && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_shell
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-shell
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-shell/LICENSE
      summary: Package for Dagster shell ops.

  - name: dagster-snowflake
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-snowflake && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - python {{ min_python }}
        - snowflake-connector-python >=3.4.0
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_snowflake
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-snowflake
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-snowflake/LICENSE
      summary: Package for Snowflake Dagster framework components.

  - name: dagster-snowflake-pandas
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-snowflake-pandas && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-snowflake", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pandas
        - python {{ min_python }}
        - requests
        - snowflake-connector-python >=2.1.0
        - snowflake-sqlalchemy >=1.2
        - sqlalchemy !=1.4.42
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_snowflake_pandas
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-snowflake-pandas
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-snowflake-pandas/LICENSE
      summary: Package for integrating Snowflake and Pandas with Dagster.

  - name: dagster-snowflake-pyspark
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-snowflake-pyspark && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - {{ pin_subpackage("dagster-snowflake", max_pin="x.x.x") }}
        - dagster {{ dagster }}.*
        - pyspark
        - python {{ min_python }}
        - requests
        - snowflake-sqlalchemy
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_snowflake_pyspark
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/libraries/dagster-snowflake-pyspark
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-snowflake-pyspark/LICENSE
      summary: Package for integrating Snowflake and PySpark with Dagster.

  - name: dagstermill
    build:
      noarch: python
      version: {{ version }}
      script: cd dagstermill && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
      entry_points:
        - dagstermill = dagstermill.cli:main
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - ipykernel >=4.9.0,!=5.4.0,!=5.4.1
        - ipython_genutils >=0.2.0
        - jupyter_client <8
        - nbconvert
        - packaging >=20.9
        - papermill >=1.0.0
        - python {{ min_python }}
        - scrapbook >=0.5
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagstermill
      commands:
        - dagstermill --help
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagstermill
      license: Apache-2.0
      license_family: APACHE
      license_file: dagstermill/LICENSE
      summary: A Dagster integration for papermill

  - name: dagster-wandb
    build:
      noarch: python
      version: {{ version }}
      script: cd dagster-wandb && {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    requirements:
      host:
        - pip
        - python {{ min_python }}
        - setuptools
      run:
        - dagster {{ dagster }}.*
        - wandb >=0.15.11,<1.0
    test:
      requires:
        - python {{ min_python }}
        - pip
      imports:
        - dagster_wandb
      commands:
        - pip check
    about:
      home: https://github.com/dagster-io/dagster/tree/master/python_modules/dagster-wandb
      license: Apache-2.0
      license_family: APACHE
      license_file: dagster-wandb/LICENSE
      summary: Package for wandb Dagster components.

about:
  home: https://github.com/dagster-io
  summary: The data orchestration platform built for productivity.
  license: Apache-2.0
  license_family: APACHE
  license_file: LICENSE
  doc_url: https://docs.dagster.io
  description: >-
    Dagster is a system for building modern data applications. Combining an elegant programming model and beautiful tools, Dagster allows infrastructure engineers, data engineers, and data scientists to seamlessly collaborate to process and produce the trusted, reliable data needed in today's world.

extra:
  feedstock-name: dagster-libs
  recipe-maintainers:
    - bollwyvl
    - conda-forge/dagster
